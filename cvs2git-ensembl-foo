#! /bin/sh

# Written using Git 1.7.2.3, may work with older
#
# Recommend running like
#    TMPDIR=/dev/shm ./git-importing/cvs2git-ensembl-foo otter


PROJ=ensembl-${1:-foo}

GIDIR=$(
    cd $( dirname $0 )
    echo $PWD
)
export PATH=$GIDIR:$PATH

# Import functions
source $GIDIR/cvs2git-funcs

unpack_hwime ~/tmp/$PROJ.repo.tgz || fetchrepo

# XXX: The name in /tmp used here can (via keywords) end up in commits
# Hence affects commitid; but using the same name for all
# 'ensembl-foo's means that simultaneous runs break.
canon_repocvs ENSCOPY

unpack_hwime ~/tmp/$PROJ.git.tgz  || do_import

# squirrel_hwime

checktags_all

clean_git_namespace
clean_git_workingcopy

checktag_show_summary
